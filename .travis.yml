language: java
script:
#Test and build your app with docker
- mvn clean verify org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=
raudut_Docker-tp-2
#Connexion Ã  Docker
- docker login -u $login -p $mdp
- docker built -t raudut/Docker-tp-2-main_database database
- docker built -t raudut/Docker-tp-2-main_httpd httpd
- docker built -t raudut/Docker-tp-2-main_simple-api simple-api
#Publication des images
- docker push raudut/Docker-tp-2-main_database
- docker push raudut/Docker-tp-2-main_httpd
- docker push raudut/Docker-tp-2-main_simple-api

cache:
- $HOME/.m2

services:
- docker

addons:
 sonarcloud:
 	organization: "raudut"
	token: "$SONARCLOUD_TOKEN"
